/*
 * LightShow.js v0.8-beta
 * http://romankozak.cz 
 *
 * Copyright (c) 2014 Roman Koz√°k
 */

(function(e){e.fn.lightshow=function(g){function k(d){if(!d.find("li").is(":animated")){var b=d.find("li:first-child"),c=b.next("li");switch(a.transition){case "fade":b.fadeOut(a.animation);a.different_sizes?c.fadeIn(a.animation):c.show();break;case "slide":b.animate({left:"-100%"},a.animation,function(){e(this).css("left","0").hide()}),c.css("left","100%").show().animate({left:"0"},a.animation)}b.appendTo(d);a.change_url&&(window.location.hash="#slide"+c.data("index"))}}function m(d){if(!d.find("li").is(":animated")){var b=
d.find("li:first-child"),c=d.find("li:last-child");switch(a.transition){case "fade":b.fadeOut(a.animation);a.different_sizes?c.fadeIn(a.animation):c.show();break;case "slide":b.animate({left:"100%"},a.animation,function(){e(this).css("left","0").hide()}),c.css("left","-100%").show().animate({left:"0"},a.animation)}c.prependTo(d);a.change_url&&(window.location.hash="#slide"+c.data("index"))}}function p(a,b){a.find("li:eq("+b+")").show();a.find("li:lt("+b+")").appendTo(a)}var a=e.extend({autoplay:!0,
pause:!0,duration:3E3,animation:500,transition:"fade",controls:!0,controls_always:!1,big_controls:!1,circles:!0,title:!1,title_always:!1,change_url:!1,keyboard:!1,responsive:!1,different_sizes:!1,after_autoplay:function(){},after_next:function(){},after_prev:function(){}},g);this.each(function(){var d=e(this),b=d.find("ul");b.addClass("lightshow-content");var c=b.find("li");d.addClass("lightshow-wrapper");c.each(function(a){e(this).data("index",a)});a.change_url?(c=window.location.hash.substr(6),
p(b,c)):b.find("li:first-child").show();a.autoplay&&(a.duration+=a.animation,setInterval(function(){a.pause&&d.is(":hover")||(k(b),"function"==typeof a.after_autoplay&&a.after_autoplay.call(this))},a.duration));if(a.controls){var f=d.find("li").outerWidth(),f=!a.responsive&&0<f?f/2-30+"px":"40%",n=d.find("li").outerHeight(),c=e("<div/>",{"class":"lightshow-next"}).appendTo(d),h=e("<div/>",{"class":"lightshow-prev"}).appendTo(d),l=n/2-30+"px";0<l&&(c.css("top",l),h.css("top",l));a.controls_always&&
!a.big_controls&&(c.addClass("lightshow-always"),h.addClass("lightshow-always"));a.big_controls&&(f={height:n+"px",width:f},c.addClass("lightshow-big").css(f),h.addClass("lightshow-big").css(f));c.click(function(){k(b);"function"==typeof a.after_next&&a.after_next.call(this)});h.click(function(){m(b);"function"==typeof a.after_prev&&a.after_prev.call(this)})}a.keyboard&&e(document).keydown(function(a){switch(a.which){case 39:k(b);"function"==typeof g.after_prev&&g.after_prev.call(this);break;case 37:m(b);
"function"==typeof g.after_next&&g.after_next.call(this);break;default:return}a.preventDefault()});a.title&&b.find("li").each(function(){var b=e(this),c=b.data("title"),c=e("<div/>",{"class":"lightshow-title"}).text(c);c.appendTo(b);a.title_always&&c.addClass("lightshow-always")})});return this}})(jQuery);